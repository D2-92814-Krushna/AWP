<!DOCTYPE html>
<html lang="en">
<head>  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunbeam Registration (JS)</title>
    <style>
        h1 { text-align: center; }
        .error-message { color: red; font-size: 12px; margin-left: 10px; }
        table { margin: auto; }
    </style>
</head>
<body>
    <h1>Sunbeam Registration Form (JavaScript)</h1>
    <form id="Form">
        <table>
            <tr>
                <td><label for="name">Name</label></td>
                <td>
                    <input type="text" id="name" maxlength="10" required>
                    <span id="nameError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td><label for="dob">BirthDate</label></td>
                <td>
                    <input type="date" id="dob" required>
                    <span id="dobError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td><label for="email">Email</label></td>
                <td>
                    <input type="email" id="email" required>
                    <span id="emailError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td><label for="password">Password</label></td>
                <td>
                    <input type="password" id="password" required>
                    <span id="passwordError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td><label for="address">Address</label></td>
                <td>
                    <textarea id="address" required></textarea>
                    <span id="addressError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td>Gender</td>
                <td>
                    <input type="radio" name="gender" value="Male"> Male 
                    <input type="radio" name="gender" value="Female"> Female
                    <span id="genderError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td><label for="photo">Upload Photo</label></td>
                <td>
                    <input type="file" id="photo" required>
                    <span id="photoError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td><label for="course">Select your Course</label></td>
                <td>
                    <select id="course" required>
                        <option value="">Select Course</option>
                        <option value="DAC">DAC</option>
                        <option value="DBDA">DBDA</option>
                        <option value="AI">AI</option>
                    </select>
                    <span id="courseError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td>Skill Set</td>
                <td>
                    <input type="checkbox" name="skill" value="Java"> Java 
                    <input type="checkbox" name="skill" value="CPP"> CPP
                    <input type="checkbox" name="skill" value="OS"> OS 
                    <span id="skillError" class="error-message"></span>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input id="done" type="submit" value="Register">
                    <input type="reset" value="Clear">
                </td>
            </tr>
        </table>
    </form>

    <script>
    document.getElementById('Form').addEventListener('submit', function(event) {
        event.preventDefault();  
        let isValid = true;

        // Name validation
        const name = document.getElementById('name').value.trim();
        const namePattern = /^[A-Za-z]+$/;
        if (name === "" || !namePattern.test(name)) {
            document.getElementById('nameError').textContent = "Only alphabets allowed (max 10)";
            isValid = false;
        } else {
            document.getElementById('nameError').textContent = "";
        }

        // DOB validation
        const dob = document.getElementById('dob').value;
        if (dob === "") {
            document.getElementById('dobError').textContent = "Birthdate required";
            isValid = false;
        } else {
            const dobDate = new Date(dob);
            const today = new Date();
            const age = today.getFullYear() - dobDate.getFullYear();
            if (dobDate >= today || age < 18) {
                document.getElementById('dobError').textContent = "Must be past date & age >=18";
                isValid = false;
            } else {
                document.getElementById('dobError').textContent = "";
            }
        }

        // Password validation
        const password = document.getElementById('password').value;
        if (password.length < 8 || !password.includes('#') || !/\d/.test(password)) {
            document.getElementById('passwordError').textContent = "Password must be >8 chars, include # and a digit";
            isValid = false;
        } else {
            document.getElementById('passwordError').textContent = "";
        }

        // Email validation
        if (document.getElementById('email').value.trim() === "") {
            document.getElementById('emailError').textContent = "Email required";
            isValid = false;
        } else { document.getElementById('emailError').textContent = ""; }

        // Address validation
        if (document.getElementById('address').value.trim() === "") {
            document.getElementById('addressError').textContent = "Address required";
            isValid = false;
        } else { document.getElementById('addressError').textContent = ""; }

        // Gender validation
        if (!document.querySelector('input[name="gender"]:checked')) {
            document.getElementById('genderError').textContent = "Select gender";
            isValid = false;
        } else { document.getElementById('genderError').textContent = ""; }

        // Photo validation
        if (document.getElementById('photo').value === "") {
            document.getElementById('photoError').textContent = "Upload a photo";
            isValid = false;
        } else { document.getElementById('photoError').textContent = ""; }

        // Course validation
        if (document.getElementById('course').value === "") {
            document.getElementById('courseError').textContent = "Select course";
            isValid = false;
        } else { document.getElementById('courseError').textContent = ""; }

        // Skill validation
        if (document.querySelectorAll('input[name="skill"]:checked').length === 0) {
            document.getElementById('skillError').textContent = "Select at least one skill";
            isValid = false;
        } else { document.getElementById('skillError').textContent = ""; }

        if (isValid) {
            const userData = {
                name,
                dob,
                email: document.getElementById('email').value,
                password,
                address: document.getElementById('address').value,
                gender: document.querySelector('input[name="gender"]:checked').value,
                course: document.getElementById('course').value,
                skills: Array.from(document.querySelectorAll('input[name="skill"]:checked')).map(s => s.value)
            };
            sessionStorage.setItem("userData", JSON.stringify(userData));
            alert("Form submitted & data saved in sessionStorage!");
            window.location.href = "display.html";
        }
    });
    </script>
</body>
</html>
